{"chunk":1,"numChunks":3,"fileHash":"VYTM6Gc8QmRVzxrnUBLTl9pZdI9uWvqUvnGNHnbqKHk=","filePath":"web/static/js/main.js","content":"const container = document.getElementById(\"main-container\");\nasync function loadLoginPage() {\n  container.innerHTML = `\n    <div class=\"auth-form\">\n      <h1>Login</h1>\n      <div id=\"login-error\" class=\"error\" style=\"display: none\"></div>\n      <form id=\"loginForm\">\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" id=\"email\" name=\"email\" required>\n        \n        <label for=\"password\">Password:</label>\n        <input type=\"password\" id=\"password\" name=\"password\" required>\n        \n        <button type=\"submit\">Login</button>\n      </form>\n      <p>Don't have an account? <a href=\"/register\" class=\"nav-link\">Register here</a></p>\n    </div>`;\n\n  document.getElementById(\"loginForm\").addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    showError(\"\"); // Clear previous error\n\n    const data = {\n      email: document.getElementById(\"email\").value,\n      password: document.getElementById(\"password\").value,\n    };\n\n    try {\n      const response = await fetch(\"/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n      });\n\n      const result = await response.json();\n\n      if (result.redirect) {\n        window.history.pushState({}, \"\", result.redirect);\n        handleNavigation(result.redirect);\n      } else if (result.error) {\n        showError(result.error);\n      }\n    } catch (error) {\n      showError(\"Login failed. Please try again.\");\n    }\n  });\n}"}