{"chunk":2,"numChunks":3,"fileHash":"VYTM6Gc8QmRVzxrnUBLTl9pZdI9uWvqUvnGNHnbqKHk=","filePath":"web/static/js/main.js","content":"const container = document.getElementById(\"main-container\");\nfunction loadRegisterPage() {\n  container.innerHTML = `\n    <div class=\"auth-form\">\n      <h1>Register</h1>\n      <div id=\"register-error\" class=\"error\" style=\"display: none\"></div>\n      <form id=\"registerForm\">\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" id=\"username\" name=\"username\" required>\n        \n        <label for=\"email\">Email:</label>\n        <input type=\"email\" id=\"reg-email\" name=\"email\" required>\n        \n        <label for=\"password\">Password:</label>\n        <input type=\"password\" id=\"reg-password\" name=\"password\" required>\n        \n        <button type=\"submit\">Register</button>\n      </form>\n      <p>Already have an account? <a href=\"/login\" class=\"nav-link\">Login here</a></p>\n    </div>`;\n\n  document\n    .getElementById(\"registerForm\")\n    .addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n      showError(\"\"); // Clear previous error\n\n      const data = {\n        username: document.getElementById(\"username\").value,\n        email: document.getElementById(\"reg-email\").value,\n        password: document.getElementById(\"reg-password\").value,\n      };\n\n      try {\n        const response = await fetch(\"/register\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(data),\n        });\n\n        const result = await response.json();\n\n        if (result.redirect) {\n          window.history.pushState({}, \"\", result.redirect);\n          handleNavigation(result.redirect);\n        } else if (result.error) {\n          showError(result.error);\n        }\n      } catch (error) {\n        showError(\"Registration failed. Please try again.\");\n      }\n    });\n}\n// Handle navigation clicks"}