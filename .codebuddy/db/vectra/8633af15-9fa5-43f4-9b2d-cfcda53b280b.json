{"chunk":0,"numChunks":1,"fileHash":"sae6Trtb2he9iNwBGtakSG+uFqPZD5U69b+2kb7W48I=","filePath":"internal/reaction/reaction.go","content":"package reaction\nimport (\n\t\"database/sql\"\n\t\"fmt\"\n\t\"forum/internal/database\"\n)\nfunc FetchReactionsNumber(itemID int, isComment bool) (likes, dislikes int, err error) {\n\tvar query string\n\tif isComment {\n\t\tquery = `\n\t\t\tSELECT \n\t\t\t\tCOUNT(CASE WHEN type = 'like' THEN 1 END) AS likes,\n\t\t\t\tCOUNT(CASE WHEN type = 'dislike' THEN 1 END) AS dislikes\n\t\t\tFROM reactions \n\t\t\tWHERE comment_id = ?`\n\t} else {\n\t\tquery = `\n\t\t\tSELECT \n\t\t\t\tCOUNT(CASE WHEN type = 'like' THEN 1 END) AS likes,\n\t\t\t\tCOUNT(CASE WHEN type = 'dislike' THEN 1 END) AS dislikes\n\t\t\tFROM reactions \n\t\t\tWHERE post_id = ?`\n\t}\n\n\terr = database.Db.QueryRow(query, itemID).Scan(&likes, &dislikes)\n\treturn\n}"}